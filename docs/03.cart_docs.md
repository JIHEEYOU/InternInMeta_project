# 🛒 장바구니 요구사항 분석 문서

## 📌 기본 정보

- **프로젝트명:** 패션 쇼핑몰 장바구니 페이지  
- **사용 기술:** React, TypeScript, Redux Toolkit, Tailwind CSS  
- **문서 작성자:** 유지희, 김성민

---

## 📝 고객 요구사항 정리

고객사는 **사용자 편의성**과 **실제 결제 흐름의 일관성**을 중시하며, 다음과 같은 요구사항을 제시하였습니다.

1. **장바구니 내 상품 목록 확인**  
   - 상품명, 썸네일, 옵션(색상/사이즈), 수량, 가격 표시  
   - 선택 삭제 및 전체 삭제 기능 제공  

2. **수량 조절 기능**  
   - `+ / -` 버튼으로 수량 조정 가능  
   - 재고 이상 수량 선택 불가  
   - 수량 변경 시 **실시간 금액 반영**  

3. **배송비 계산 로직**  
   - 상품 총액 **50,000원 이상** 시 무료배송  
   - 미만 시 **기본 배송비 3,000원 부과**  
   - 개별배송 상품은 **별도 배송비** 표시  

4. **가격 및 합계 영역**  
   - 상품 총액, 배송비, 최종 결제금액 **실시간 표시**  
   - 쿠폰/적립금 적용 영역은 별도 구성 예정  

5. **결제 페이지로 이동**  
   - 선택한 상품만 결제 가능  
   - ‘결제하기’ 클릭 시 결제 모듈 연동  

6. **뒤로가기 버튼**  
   - 상품 목록 페이지로 돌아가기  
   - 브라우저 기본 뒤로가기와 별도로 UI에 명확한 버튼 제공  

7. **공백 처리**  
   - 장바구니가 비었을 경우 `"비어 있습니다"` 메시지 및 추천 상품 표시  

---

## 📋 기능 목록

| 기능 항목              | 설명 |
|-----------------------|------|
| 상품 리스트 렌더링     | 장바구니에 담긴 상품 정보 출력 |
| 수량 변경              | `+ / -` 버튼으로 수량 조절 (재고 제한 적용) |
| 상품 삭제              | 선택 삭제 및 전체 삭제 기능 |
| 가격 계산              | 상품별 `(가격 × 수량)` 계산, 총합 및 배송비 포함 |
| 배송비 정책 적용       | 총액 50,000원 미만 시 3,000원 자동 부과 |
| 결제 모듈 연동         | 결제 버튼 클릭 시 결제 페이지 이동 및 선택 상품 정보 전달 |
| 뒤로가기 버튼          | 메인 상품 페이지로 이동 |
| 빈 장바구니 처리        | 비어있을 때 메시지와 추천 상품 표시 |

---

## 🛠 개발 환경

- **런타임/언어:** Node.js, TypeScript (ESNext)  
- **프레임워크/라이브러리:**  
  - React 17+  
  - React Router  
  - Redux Toolkit  
  - Tailwind CSS  
- **문서화/테스트:**  
  - Jest + React Testing Library  
  - Storybook  

---

## ▶️ 설치 및 실행 방법

```bash
# 의존성 설치
npm install

# 개발 서버 실행
npm start

# 테스트 실행
npm test

# 스토리북 실행 (선택)
npm run storybook

🧱 컴포넌트 구조 예시
src/
  components/
    ProductCard/        # 상품 카드
    CartItem/           # 장바구니 행
    PriceSummary/       # 합계/배송비/총액 표시
    BackButton/         # 뒤로가기 버튼
  pages/
    ProductListPage/    # 상품 목록
    ProductDetailPage/  # 상품 상세
    CartPage/           # 장바구니
    CheckoutPage/       # 결제
  store/
    cartSlice.ts        # 상태 관리
  lib/
    cart.ts             # 배송비/합계 계산
  routes/
    AppRoutes.tsx       # 라우팅 설정

✅ 테스트 & 스토리북
테스트 실행
npm test

샘플 테스트 코드
import { calcTotal } from './cart';

test('5만원 미만은 배송비 3,000원', () => {
  const { subtotal, shipping, total } = calcTotal([{ price: 10000, qty: 3 }]);
  expect(subtotal).toBe(30000);
  expect(shipping).toBe(3000);
  expect(total).toBe(33000);
});

test('5만원 이상은 무료배송', () => {
  const { subtotal, shipping, total } = calcTotal([{ price: 25000, qty: 2 }]);
  expect(subtotal).toBe(50000);
  expect(shipping).toBe(0);
  expect(total).toBe(50000);
});

스토리북
npm run storybook

🔍 기능 테스트 체크리스트
 장바구니 금액이 정확하게 계산되는가?

 5만 원 미만일 때 배송비 3,000원이 적용되는가?

 5만 원 이상일 때 무료배송으로 표시되는가?

 뒤로가기 버튼 클릭 시 메인 목록 페이지로 이동되는가?

 결제하기 버튼 클릭 시 결제창이 정상적으로 표시되는가?

⚠️ 유의사항 및 알려진 이슈
모바일 환경에서 UI 요소 간 겹침 발생 가능

새로고침 시 장바구니 초기화 여부 설정 필요

결제 기능은 테스트 카드만 허용 (실제 결제 아님)

